# ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£

## 1. ç³»ç»Ÿæ¶æ„æ¦‚è¿°

### 1.1 æ¶æ„è®¾è®¡åŸåˆ™

- **åˆ†å±‚æ¶æ„**ï¼šæ˜ç¡®åˆ†å±‚ï¼ŒèŒè´£æ¸…æ™°
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šé«˜å†…èšã€ä½è€¦åˆ
- **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒæ°´å¹³æ‰©å±•
- **å®‰å…¨æ€§**ï¼šæ•°æ®åŠ å¯†ã€è®¿é—®æ§åˆ¶

### 1.2 æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ é£ä¹¦ Bot â”‚    â”‚  ç½‘é¡µ    â”‚    â”‚    iOS Shortcut    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API ç½‘å…³å±‚ (Nginx)                        â”‚
â”‚  â€¢ è´Ÿè½½å‡è¡¡  â€¢ SSL ç»ˆæ­¢  â€¢ è¯·æ±‚è·¯ç”±  â€¢ é™æµ                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      åº”ç”¨æœåŠ¡å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              FastAPI åç«¯æœåŠ¡                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ ç”¨æˆ·æ¨¡å— â”‚  â”‚ å¥åº·æ•°æ®â”‚  â”‚ é£Ÿç‰©åˆ†æâ”‚  â”‚ Apple â”‚  â”‚   â”‚
â”‚  â”‚  â”‚         â”‚  â”‚ ç®¡ç†æ¨¡å—â”‚  â”‚ æ¨¡å—    â”‚  â”‚ Watch â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      æ•°æ®å­˜å‚¨å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  PostgreSQL  â”‚  â”‚    Redis     â”‚  â”‚   å¯¹è±¡å­˜å‚¨       â”‚  â”‚
â”‚  â”‚  (ä¸»æ•°æ®åº“)   â”‚  â”‚   (ç¼“å­˜)     â”‚  â”‚   (å›¾ç‰‡/æ–‡ä»¶)    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åŸºç¡€è®¾æ–½å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Docker     â”‚  â”‚   Nginx      â”‚  â”‚   Prometheus     â”‚  â”‚
â”‚  â”‚  (å®¹å™¨åŒ–)     â”‚  â”‚  (åå‘ä»£ç†)   â”‚  â”‚   + Grafana      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. æŠ€æœ¯æ ˆ

### 2.1 æ ¸å¿ƒæŠ€æœ¯é€‰å‹

| å±‚çº§ | æŠ€æœ¯ç»„ä»¶ | è¯´æ˜ |
|:---|:---|:---|
| **å‰ç«¯** | React 18 + TypeScript 5.4 | ç°ä»£åŒ– UI æ¡†æ¶ |
| **æ ·å¼** | Tailwind CSS 4.0 | åŸå­åŒ– CSS |
| **å›¾è¡¨** | Recharts | æ•°æ®å¯è§†åŒ– |
| **åç«¯** | Python 3.11 + FastAPI 0.104 | é«˜æ€§èƒ½ API |
| **æ•°æ®åº“** | PostgreSQL 16 + Redis 7.2 | ä¸»åº“ + ç¼“å­˜ |
| **æ¶ˆæ¯é˜Ÿåˆ—** | Celery 5.4 | å¼‚æ­¥ä»»åŠ¡ |
| **å®¹å™¨** | Docker + Docker Compose | å®¹å™¨åŒ–éƒ¨ç½² |
| **WebæœåŠ¡å™¨** | Nginx | åå‘ä»£ç† |
| **ç›‘æ§** | Prometheus + Grafana | ç›‘æ§å‘Šè­¦ |

## 3. æ•°æ®æµè®¾è®¡

### 3.1 å¥åº·æ•°æ®æµ

```
Apple Watch â†’ iPhone Health â†’ iOS Shortcut â†’ æˆ‘ä»¬çš„ API â†’ PostgreSQL â†’ ä»ªè¡¨ç›˜
     â†“              â†“               â†“              â†“              â†“           â†“
  ä¼ æ„Ÿå™¨æ•°æ®    æ•°æ®æ±‡æ€»      å®šæ—¶è§¦å‘      REST API      æŒä¹…åŒ–å­˜å‚¨    å¯è§†åŒ–å±•ç¤º
```

### 3.2 é£Ÿç‰©åˆ†ææ•°æ®æµ

```
ç”¨æˆ·æ‹ç…§ â†’ ä¸Šä¼ åˆ°æœåŠ¡å™¨ â†’ AI å›¾åƒè¯†åˆ« â†’ é£Ÿç‰©è¯†åˆ« â†’ è¥å…»è®¡ç®— â†’ å­˜å‚¨ â†’ ä»ªè¡¨ç›˜
    â†“            â†“              â†“            â†“           â†“          â†“         â†“
  é£Ÿç‰©ç…§ç‰‡    æ–‡ä»¶ä¸Šä¼        GPT-4V/Claude   é£Ÿç‰©åç§°    å¡è·¯é‡Œ      PostgreSQL  å±•ç¤º
```

## 4. API è®¾è®¡

### 4.1 RESTful API è§„èŒƒ

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|:---|:---|:---|
| **ç”¨æˆ·æ¨¡å—** |||
| POST | `/api/v1/users` | åˆ›å»ºç”¨æˆ· |
| GET | `/api/v1/users/{user_id}` | è·å–ç”¨æˆ·ä¿¡æ¯ |
| PUT | `/api/v1/users/{user_id}` | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ |
| **å¥åº·æ•°æ®æ¨¡å—** |||
| POST | `/api/v1/health/data` | æ·»åŠ å¥åº·æ•°æ® |
| GET | `/api/v1/health/data/{user_id}` | è·å–ç”¨æˆ·å¥åº·æ•°æ® |
| GET | `/api/v1/health/trends/{user_id}` | è·å–å¥åº·è¶‹åŠ¿ |
| **é£Ÿç‰©åˆ†ææ¨¡å—** |||
| POST | `/api/v1/meals/analyze` | åˆ†æé£Ÿç‰©å›¾ç‰‡ |
| GET | `/api/v1/meals/{user_id}` | è·å–ç”¨æˆ·é¥®é£Ÿè®°å½• |
| **Apple Watch æ¨¡å—** |||
| POST | `/api/v1/apple-health/sync` | åŒæ­¥ Apple Health æ•°æ® |
| GET | `/api/v1/apple-health/{user_id}` | è·å– Apple Watch æ•°æ® |

### 4.2 è¯·æ±‚/å“åº”æ ¼å¼

**æ ‡å‡†å“åº”æ ¼å¼**:
```json
{
  "code": 200,
  "message": "success",
  "data": { ... },
  "timestamp": "2024-02-26T10:30:00Z"
}
```

**é”™è¯¯å“åº”æ ¼å¼**:
```json
{
  "code": 400,
  "message": "Bad Request",
  "error": "Invalid user ID",
  "timestamp": "2024-02-26T10:30:00Z"
}
```

## 5. æ•°æ®åº“è®¾è®¡

### 5.1 å®ä½“å…³ç³»å›¾ (ERD)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    users    â”‚â”€â”€â”€â”€â”€â”€â”€â”‚ health_data â”‚â”€â”€â”€â”€â”€â”€â”€â”‚   trends    â”‚
â”‚  (ç”¨æˆ·è¡¨)    â”‚ 1:N   â”‚  (å¥åº·æ•°æ®)  â”‚ 1:N   â”‚  (è¶‹åŠ¿åˆ†æ)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:N
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ meal_recordsâ”‚â”€â”€â”€â”€â”€â”€â”€â”‚ food_analysisâ”‚
â”‚  (é¥®é£Ÿè®°å½•)  â”‚ 1:1   â”‚  (é£Ÿç‰©åˆ†æ)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:N
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ apple_healthâ”‚
â”‚(Apple Watch)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 è¡¨ç»“æ„

**users è¡¨**:
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50) UNIQUE NOT NULL,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE,
    phone VARCHAR(20),
    avatar_url TEXT,
    preferences JSONB DEFAULT '{}',
    targets JSONB DEFAULT '{}',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**health_data è¡¨**:
```sql
CREATE TABLE health_data (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50) REFERENCES users(user_id),
    date DATE NOT NULL,
    weight FLOAT,
    steps INTEGER,
    calories INTEGER,
    heart_rate INTEGER,
    sleep_duration INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**meal_records è¡¨**:
```sql
CREATE TABLE meal_records (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50) REFERENCES users(user_id),
    meal_type VARCHAR(20), -- breakfast, lunch, dinner, snack
    image_url TEXT,
    food_name VARCHAR(200),
    calories INTEGER,
    protein FLOAT,
    carbs FLOAT,
    fat FLOAT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**apple_health_sync è¡¨**:
```sql
CREATE TABLE apple_health_sync (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50) REFERENCES users(user_id),
    sync_date DATE NOT NULL,
    steps INTEGER,
    distance FLOAT,
    calories_burned INTEGER,
    heart_rate_avg INTEGER,
    heart_rate_max INTEGER,
    sleep_hours FLOAT,
    workout_count INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## 6. å®‰å…¨è®¾è®¡

### 6.1 è®¤è¯ä¸æˆæƒ

**JWT Token è®¤è¯**:
```
ç”¨æˆ·ç™»å½• â†’ éªŒè¯ç”¨æˆ·åå¯†ç  â†’ ç”Ÿæˆ JWT Token â†’ è¿”å› Token
API è¯·æ±‚ â†’ éªŒè¯ Token â†’ æ‰§è¡Œæ“ä½œ
```

**æƒé™æ§åˆ¶**:
| è§’è‰² | æƒé™ |
|:---|:---|
| ç®¡ç†å‘˜ | æ‰€æœ‰æƒé™ |
| æ™®é€šç”¨æˆ· | åªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ® |
| è®¿å®¢ | åªè¯»å…¬å¼€ä¿¡æ¯ |

### 6.2 æ•°æ®å®‰å…¨

**åŠ å¯†ç­–ç•¥**:
| æ•°æ®ç±»å‹ | åŠ å¯†æ–¹å¼ |
|:---|:---|
| å¯†ç  | bcrypt å“ˆå¸Œ |
| æ•æ„Ÿä¿¡æ¯ (èº«ä»½è¯å·ç­‰) | AES-256 å¯¹ç§°åŠ å¯† |
| ä¼ è¾“æ•°æ® | TLS 1.3 |
| æ•°æ®åº“å¤‡ä»½ | åŠ å¯†å­˜å‚¨ |

**éšç§ä¿æŠ¤**:
- ç”¨æˆ·æ•°æ®æœ€å°åŒ–é‡‡é›†
- æ•°æ®ä¿ç•™æœŸé™ (é»˜è®¤ 2 å¹´)
- ç”¨æˆ·å¯è¯·æ±‚åˆ é™¤æ‰€æœ‰æ•°æ® (GDPR åˆè§„)

## 7. éƒ¨ç½²æ¶æ„

### 7.1 ç”Ÿäº§ç¯å¢ƒæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CDN (é˜¿é‡Œäº‘ CDN)                      â”‚
â”‚                    é™æ€èµ„æºåŠ é€Ÿ + HTTPS                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     WAF (é˜¿é‡Œäº‘ WAF)                         â”‚
â”‚                   Web åº”ç”¨é˜²ç«å¢™                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Load Balancer (SLB)                        â”‚
â”‚                  è´Ÿè½½å‡è¡¡ + SSL å¸è½½                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web Server 1      â”‚ â”‚   Web Server 2      â”‚ â”‚   Web Server 3      â”‚
â”‚  (Nginx + React)    â”‚ â”‚  (Nginx + React)    â”‚ â”‚  (Nginx + React)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                     â”‚                       â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Application Server                          â”‚
â”‚           (FastAPI + Python + Gunicorn)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL        â”‚ â”‚   Redis             â”‚ â”‚   Celery            â”‚
â”‚   (ä¸»æ•°æ®åº“)         â”‚ â”‚   (ç¼“å­˜)            â”‚ â”‚   (ä»»åŠ¡é˜Ÿåˆ—)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 å¼€å‘/æµ‹è¯•/ç”Ÿäº§ç¯å¢ƒ

| ç¯å¢ƒ | åŸŸå | ç”¨é€” | é…ç½® |
|:---|:---|:---|:---|
| **å¼€å‘ç¯å¢ƒ** | dev-health.yourdomain.com | å¼€å‘è°ƒè¯• | 1æ ¸2G, å•æœºéƒ¨ç½² |
| **æµ‹è¯•ç¯å¢ƒ** | test-health.yourdomain.com | åŠŸèƒ½æµ‹è¯• | 2æ ¸4G, Dockeréƒ¨ç½² |
| **ç”Ÿäº§ç¯å¢ƒ** | health.yourdomain.com | æ­£å¼è¿è¡Œ | 4æ ¸8G, é›†ç¾¤éƒ¨ç½² |

### 7.3 CI/CD æµç¨‹

```
å¼€å‘ä»£ç  â†’ GitHub PR â†’ Code Review â†’ åˆå¹¶åˆ° main â†’ GitHub Actions
    â†“              â†“            â†“              â†“
  æœ¬åœ°æµ‹è¯•      è‡ªåŠ¨åŒ–æµ‹è¯•    ä»£ç å®¡æŸ¥      æ„å»º Docker é•œåƒ
    â†“              â†“            â†“              â†“
  æ¨é€åˆ†æ”¯     ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š  åˆå¹¶æ‰¹å‡†      æ¨é€åˆ°é•œåƒä»“åº“
    â†“              â†“            â†“              â†“
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                  éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
                          â”‚
                    è‡ªåŠ¨åŒ–é›†æˆæµ‹è¯•
                          â”‚
                    äººå·¥éªŒæ”¶æµ‹è¯•
                          â”‚
                          â–¼
                  éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
```

## 8. ç›‘æ§ä¸å‘Šè­¦

### 8.1 ç›‘æ§ä½“ç³»

| å±‚çº§ | ç›‘æ§å·¥å…· | ç›‘æ§é¡¹ |
|:---|:---|:---|
| **åŸºç¡€è®¾æ–½** | Prometheus + Node Exporter | CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œ |
| **åº”ç”¨å±‚** | Prometheus + FastAPI Metrics | API å“åº”æ—¶é—´ã€QPSã€é”™è¯¯ç‡ |
| **æ•°æ®åº“** | PostgreSQL Exporter | è¿æ¥æ•°ã€æŸ¥è¯¢æ€§èƒ½ã€é”ç­‰å¾… |
| **ä¸šåŠ¡å±‚** | è‡ªå®šä¹‰ Metrics | ç”¨æˆ·æ´»è·ƒåº¦ã€æ•°æ®å¢é•¿ |

### 8.2 å‘Šè­¦è§„åˆ™

| å‘Šè­¦çº§åˆ« | è§¦å‘æ¡ä»¶ | é€šçŸ¥æ–¹å¼ |
|:---|:---|:---|
| **P0 - ç´§æ€¥** | ç³»ç»Ÿå®•æœºã€æ•°æ®ä¸¢å¤± | ç”µè¯ + çŸ­ä¿¡ + é‚®ä»¶ |
| **P1 - é«˜** | API é”™è¯¯ç‡ > 5%ã€å“åº”æ—¶é—´ > 1s | çŸ­ä¿¡ + é‚®ä»¶ |
| **P2 - ä¸­** | ç£ç›˜ä½¿ç”¨ç‡ > 80%ã€å†…å­˜ > 90% | é‚®ä»¶ |
| **P3 - ä½** | å®šæœŸæŠ¥å‘Šã€ç»Ÿè®¡ä¿¡æ¯ | é‚®ä»¶æ—¥æŠ¥ |

## 9. é™„å½•

### 9.1 æœ¯è¯­è¡¨

| æœ¯è¯­ | è¯´æ˜ |
|:---|:---|
| **API** | Application Programming Interfaceï¼Œåº”ç”¨ç¨‹åºæ¥å£ |
| **BRD** | Business Requirements Documentï¼Œå•†ä¸šéœ€æ±‚æ–‡æ¡£ |
| **CI/CD** | Continuous Integration/Continuous Deploymentï¼ŒæŒç»­é›†æˆ/æŒç»­éƒ¨ç½² |
| **JWT** | JSON Web Tokenï¼Œç”¨äºè®¤è¯çš„ä»¤ç‰Œ |
| **MVP** | Minimum Viable Productï¼Œæœ€å°å¯è¡Œäº§å“ |
| **PRD** | Product Requirements Documentï¼Œäº§å“éœ€æ±‚æ–‡æ¡£ |
| **WAF** | Web Application Firewallï¼ŒWeb åº”ç”¨é˜²ç«å¢™ |

### 9.2 å‚è€ƒèµ„æ–™

- [FastAPI å®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [PostgreSQL å®˜æ–¹æ–‡æ¡£](https://www.postgresql.org/docs/)
- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [Docker å®˜æ–¹æ–‡æ¡£](https://docs.docker.com/)
- [Prometheus å®˜æ–¹æ–‡æ¡£](https://prometheus.io/docs/)

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2026-02-26  
**çŠ¶æ€**: âœ… å®Œæˆ
